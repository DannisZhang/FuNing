<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="author" content="Dannis">

    <title>爱靓号-手机靓号选号，网上选号</title>
    <link rel="stylesheet" type="text/css" href="static/bootstrap/css/yeti.bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="static/css/style.css"/>
    <link rel="stylesheet" type="text/css" href="static/css/custom.css"/>
    <link rel="stylesheet" type="text/css" href="static/css/default.css"/>

    <script src="static/js/jquery-1.11.2.min.js"></script>
    <script src="static/bootstrap/js/bootstrap.min.js"></script>
    <script src="static/js/unslider.js"></script>
</head>
<body>
<div class="top-navbar">
    <div class="container">
        <div class="row">
            <div class="col-md-6 top-navbar-left">
                <span>买靓号，就来爱靓号</span><a>会员登录</a>|<a>免费注册</a>
            </div>
            <div class="col-md-6 top-navbar-right">
                <a>加入收藏</a>|<a>设为首页</a>|<a>网站地图</a>|<a>联系我们</a>
            </div>
        </div>
    </div>
</div>
<div class="container">
    <div class="row banner-row">
        <div class="col-md-6">
            <h1>爱靓号</h1>
            <h5>iLiangHao</h5>
        </div>
        <div class="col-md-6">

        </div>
    </div>
</div>
<!-- 导航 -->
<nav class="navbar navbar-inverse" style="margin-bottom: 6px">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#navbar-collapse-2">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html">爱靓号</a>
        </div>
        <div class="collapse navbar-collapse" id="navbar-collapse-2">
            <ul class="nav navbar-nav">
                <li class="active"><a href="mobilephone.html">手机靓号</a></li>
                <li class="disabled"><a href="#">关于我们</a></li>
            </ul>
            <form class="navbar-form navbar-right" role="search">
                <div class="form-group">
                    <input class="form-control" placeholder="请输入您喜欢的数字" type="text">
                </div>
                <button type="submit" class="btn btn-sm btn-warning">抢号</button>
            </form>
        </div>
    </div>
</nav>
<!-- 页面主体 -->
<div class="container">
    <!-- 位置导航 -->
    <div class="row">
        <div class="col-md-12">
            当前位置：<a href="index.html">爱靓号</a>><a href="mobilephone.html">手机靓号</a>
        </div>
    </div>
    <!-- 搜索区域 -->
    <div class="row" style="margin-top: 6px">
        <div class="col-md-9">
            <form class="form-horizontal" id="searchNumberForm">
                <fieldset>
                    <div class="form-group">
                        <div class="col-lg-2">
                            <label class="control-label" style="margin-left: 20px;text-align: left">运营商：</label>
                        </div>
                        <div class="col-lg-10">
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" name="operator" value="中国移动">中国移动
                                </label>
                                <label>
                                    <input type="checkbox" name="operator" value="中国联通">中国联通
                                </label>
                                <label>
                                    <input type="checkbox" name="operator" value="中国电信">中国电信
                                </label>
                                <label>
                                    <input type="checkbox" name="operator" value="虚拟运营商">虚拟运营商
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-2">
                            <label class="control-label" style="margin-left: 20px;text-align: left">归属地：</label>
                        </div>
                        <div class="col-lg-10">
                            <label>
                                <select class="form-control" style="width: 100px;" name="attributionProvince">
                                    <option>广东省</option>
                                    <option>福建省</option>
                                    <option>浙江省</option>
                                    <option>贵州省</option>
                                    <option>海南省</option>
                                </select>
                            </label>
                            <label>
                                <select class="form-control" name="attributionCity">
                                    <option value="深圳">深圳市</option>
                                    <option value="广州">广州市</option>
                                    <option value="福州">福州市</option>
                                    <option value="福宁">福宁市</option>
                                    <option value="厦门">厦门市</option>
                                    <option value="贵阳">贵阳市</option>
                                </select>
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-2">
                            <label for="selectNumberPrefix" class="control-label"
                                   style="margin-left: 20px;text-align: left">号段：</label>
                        </div>
                        <div class="col-lg-10">
                            <label>
                                <select class="form-control" id="selectNumberPrefix" style="width: 100px;" name="numberSection" disabled>
                                    <option>不限号段</option>
                                    <option>中国移动</option>
                                    <option>139</option>
                                    <option>138</option>
                                    <option>137</option>
                                    <option>136</option>
                                    <option>134</option>
                                    <option>中国联通</option>
                                    <option>130</option>
                                    <option>131</option>
                                    <option>132</option>
                                    <option>155</option>
                                    <option>156</option>
                                    <option>185</option>
                                    <option>186</option>
                                    <option>中国电信</option>
                                    <option>133</option>
                                    <option>153</option>
                                    <option>180</option>
                                    <option>181</option>
                                    <option>189</option>
                                    <option>虚拟运营商</option>
                                    <option>170</option>
                                </select>
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-2">
                            <label class="control-label" style="margin-left: 20px;text-align: left">价格范围：</label>
                        </div>
                        <div class="col-lg-10">
                            <label>
                                <select class="form-control" name="priceRange" disabled>
                                    <option>不限价格</option>
                                    <option>价格面议</option>
                                    <option>100元以下</option>
                                    <option>100-500元</option>
                                    <option>500-1000元</option>
                                    <option>1000-2000元</option>
                                    <option>2000-5000元</option>
                                    <option>5000-10000元</option>
                                    <option>10000元以上</option>
                                </select>
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-2">
                            <label class="control-label" style="margin-left: 20px;text-align: left">号码规律：</label>
                        </div>
                        <div class="col-lg-10">
                            <label>
                                <select class="form-control" name="numberRule" disabled>
                                    <option value="" selected="selected">不限规律</option>
                                    <option value="0">普通号码</option>
                                    <option value="1">尾数ABCDE+</option>
                                    <option value="2">尾数AAAAA+</option>
                                    <option value="3">尾数AAABBB</option>
                                    <option value="4">尾数AABBCC</option>
                                    <option value="5">尾数ABCABC</option>
                                    <option value="6">尾数ABBABB</option>
                                    <option value="7">尾数AABAA</option>
                                    <option value="8">尾数AAABB</option>
                                    <option value="9">尾数AABBB</option>
                                    <option value="10">尾数ABCDE</option>
                                    <option value="11">尾数AAAAA</option>
                                    <option value="12">尾数ABCD</option>
                                    <option value="13">尾数AAAA</option>
                                    <option value="14">尾数AABB</option>
                                    <option value="15">尾数ABBA</option>
                                    <option value="16">尾数AAAB</option>
                                    <option value="17">尾数ABAB</option>
                                    <option value="18">尾数AAA</option>
                                    <option value="19">尾数ABC</option>
                                    <option value="20">中间AAABBB</option>
                                    <option value="21">中间AAAA+</option>
                                    <option value="22">中间AABBB</option>
                                    <option value="23">中间AAABB</option>
                                    <option value="24">中间AAAA</option>
                                    <option value="25">中间AABB</option>
                                    <option value="26">中间AAA</option>
                                    <option value="27">中间AABBCC</option>
                                    <option value="28">尾数AA</option>
                                </select>
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-2">
                            <label class="control-label" style="margin-left: 20px;text-align: left">包含数字：</label>
                        </div>
                        <div class="col-lg-10">
                            <label>
                                <input class="form-control" type="text" name="containNumeric"
                                       style="width: 120px;height: 22px;padding: 0 2px;font-size: 12px">
                            </label>

                            <div class="checkbox" style="display: inline-block;">
                                <label style="float: left;">
                                    <input type="checkbox" name="isEndNumeric">尾数
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-8 col-lg-offset-4">
                            <a class="btn btn-xs btn-primary" id="searchNumberButton">
                                <span class="glyphicon glyphicon-search" style="margin-right: 3px"></span>搜索
                            </a>
                        </div>
                    </div>
                </fieldset>
            </form>
        </div>
        <div class="col-md-3">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <div class="panel-title">
                        网站公告
                    </div>
                </div>
                <div class="panel-body">
                    <p><a>手机号意外被收</a></p>

                    <p><a>男子花费10万购买手机靓号</a></p>

                    <p><a>购买靓号认证正规途径</a></p>

                    <p><a>手机号码更换后要及时修改其他...</a></p>

                    <p><a>哪些人爱买靓号呢？</a></p>

                    <p><a>大叔花40万巨款只为养靓号</a></p>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-9">
            <table class="table table-striped table-hover" id="mobilePhoneNumbersTable">
                <thead>
                <tr>
                    <th>手机号码</th>
                    <th>运营商</th>
                    <th>归属地</th>
                    <th>价格</th>
                    <th>含话费</th>
                    <th>号码规律</th>
                    <th>号码寓意</th>
                    <th>操作</th>
                </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>
    <!-- 分页 -->
    <div class="row">
        <div class="col-lg-9" style="text-align: center">
            <nav>
                <ul class="pagination" id="pagination">
                    <li><a href="javascript:void(0);">首页</a></li>
                    <li><a href="javascript:void(0);">上一页</a></li>
                    <li><a href="javascript:void(0);">1</a></li>
                    <li><a href="javascript:void(0);">2</a></li>
                    <li><a href="javascript:void(0);">3</a></li>
                    <li><a href="javascript:void(0);">4</a></li>
                    <li><a href="javascript:void(0);">5</a></li>
                    <li><a href="javascript:void(0);">...</a></li>
                    <li><a href="javascript:void(0);">20</a></li>
                    <li><a href="javascript:void(0);" id="nextPage">下一页</a></li>
                    <li><a href="javascript:void(0);" id="endPage">末页</a></li>
                    <li>
                        <span>共1页</span><span>共120条</span>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</div>

<div id="go-top">
    <a id="go_top_btn" class="btn btn-sm btn-default">
        <span class="glyphicon glyphicon-chevron-up"></span>
    </a>
</div>
<!-- 页脚 -->
<footer>
    <div class="container footer1">
        <p>Copyright&copy;哲远贸易有限公司 2015-2015 www.ilianghao.net, All Rights Reserved.</p>
    </div>
</footer>
<script type="text/javascript">
    var PAGE_SIZE = 12;
    var currentPage = 1;
    var queryParams = {"page": 1, "rows": PAGE_SIZE};
    $(function () {
        var urlParams = extractUrlParams();
        queryMobilePhoneNumber(1,urlParams);

        $(window).scroll(function () {
            var scroll = document.documentElement.scrollTop + document.body.scrollTop;
            if (scroll > 200) {
                $('#go-top').fadeIn(300);
            } else {
                $('#go-top').stop().fadeOut(300);
            }
        });

        $('#go_top_btn').click(function () {
            $("html,body").animate({scrollTop: "0px"}, 200);
        });

        $('#searchNumberButton').click(function () {
            var $searchNumberForm = $('#searchNumberForm');
            var operators = [];
            $searchNumberForm.find('input[type="checkbox"][name="operator"]:checked').each(function () {
                operators.push($(this).val());
            });
            var params = {};
            params.operators = operators.join(',');
            params.attribution = $searchNumberForm.find('select[name="attributionCity"]').val();
            params.numberSection = $searchNumberForm.find('select[name="numberSection"]').val();
            params.priceRange = $searchNumberForm.find('select[name="priceRange"]').val();
            params.numberRule = $searchNumberForm.find('select[name="numberRule"]').val();
            params.containNumeric = $searchNumberForm.find('input[type="text"][name="containNumeric"]').val();
            params.isEndNumeric = $searchNumberForm.find('input[type="checkbox"][name="isEndNumeric"]').prop('checked');

            queryMobilePhoneNumber(1,params);
        });
    });

    function queryMobilePhoneNumber(pageNo,params) {
        queryParams.page = pageNo;
        if (params) {
            queryParams.params = params;
        }
        $.ajax({
            url: "mobilePhoneNumber/queryByPage.ajax",
            method: "post",
            data: queryParams,
            success: function (result) {
                buildPaginationBar(pageNo,result.total);

                var mobilePhoneNumberTrsHtml = '';
                $.each(result.rows, function (name, value) {
                    var mobilePhoneNumberTr = '<tr>';
                    mobilePhoneNumberTr += '<td>';
                    mobilePhoneNumberTr += '<a style="color:#0079A1;font-size: 14px;font-weight: bold" href="javascript:void(0);" onclick="gotoMobilePhoneDetailPage(\'' + this.number + '\')">' + this.number + '</a>';
                    mobilePhoneNumberTr += '</td>';
                    mobilePhoneNumberTr += '<td>';
                    mobilePhoneNumberTr += this.operator;
                    mobilePhoneNumberTr += '</td>';
                    mobilePhoneNumberTr += '<td>';
                    mobilePhoneNumberTr += this.attribution;
                    mobilePhoneNumberTr += '</td>';
                    mobilePhoneNumberTr += '<td>';
                    if (this.wholesalePrice > 0) {
                        mobilePhoneNumberTr += '<span style="font-size: 12px;color: #F60;">' + '￥' + this.wholesalePrice + '</span>';
                    } else {
                        mobilePhoneNumberTr += '<span style="font-size: 12px;color: #F60;">面议</span>';
                    }
                    mobilePhoneNumberTr += '</td>';
                    mobilePhoneNumberTr += '<td>';
                    mobilePhoneNumberTr += '<span style="font-size: 12px;color: #539F53;">' + '￥' + this.balance + '</span>';
                    mobilePhoneNumberTr += '</td>';
                    mobilePhoneNumberTr += '<td>';
                    mobilePhoneNumberTr += '</td>';
                    mobilePhoneNumberTr += '<td>';
                    mobilePhoneNumberTr += '</td>';
                    mobilePhoneNumberTr += '<td>';
                    mobilePhoneNumberTr += '<a href="#" class="btn btn-xs-custom btn-warning">收藏</a> ';
                    mobilePhoneNumberTr += '<a href="#" class="btn btn-xs-custom btn-success">购买</a>';
                    mobilePhoneNumberTr += '</td>';
                    mobilePhoneNumberTr += '</tr>';

                    mobilePhoneNumberTrsHtml += mobilePhoneNumberTr;
                });

                $('#mobilePhoneNumbersTable').find('tbody').html(mobilePhoneNumberTrsHtml);
            }
        });
    }

    function buildMobilePhoneNumberTd(mobilePhoneNumber) {
        var mobilePhoneNumberTd = '<td><a>';
        mobilePhoneNumberTd += '<p style="color: #0079A1;font-size: 14px;font-weight: bold">';
        mobilePhoneNumberTd += '<a href="mobilephoneDetail.html?number="' + mobilePhoneNumber.number + '">' + mobilePhoneNumber.number + '</a>';
        mobilePhoneNumberTd += '</p>';
        mobilePhoneNumberTd += '<p style="font-size: 12px;color: #539F53;">';
        if (mobilePhoneNumber.balance > 0) {
            mobilePhoneNumberTd += '含话费' + mobilePhoneNumber.balance + '元';
        } else {
            mobilePhoneNumberTd += '不含话费';
        }
        mobilePhoneNumberTd += '</p>';
        mobilePhoneNumberTd += '<p style="font-size: 12px;color: #F60;">';
        if (mobilePhoneNumber.floorPrice > 0) {
            mobilePhoneNumberTd += mobilePhoneNumber.floorPrice + '元';
        } else {
            mobilePhoneNumberTd += '价格面议';
        }
        mobilePhoneNumberTd += '</p>';
        mobilePhoneNumberTd += "</a></td>";

        return mobilePhoneNumberTd;
    }

    function buildPaginationBar(currentPage,total) {
        if (currentPage < 1) {
            return;
        }
        var totalPage = 1;
        if (total > PAGE_SIZE) {
            totalPage = Math.ceil(total / PAGE_SIZE);
        }
        var paginationHtml = '<li><a href="javascript:void(0);" onclick="queryMobilePhoneNumber(1,undefined)">首页</a></li>';
        paginationHtml += '<li><a href="javascript:void(0);" onclick="queryMobilePhoneNumber(' + (currentPage - 1) + ',undefined)">上一页</a></li>';
        for (var pageIndex = 1; pageIndex <= totalPage; pageIndex++) {
            if (currentPage == pageIndex) {
                paginationHtml += '<li class="active"><a href="javascript:void(0);" onclick="queryMobilePhoneNumber(' + pageIndex + ',undefined)">' + pageIndex + '</a></li>';
            } else {
                paginationHtml += '<li><a href="javascript:void(0);" onclick="queryMobilePhoneNumber(' + pageIndex + ',undefined)">' + pageIndex + '</a></li>';
            }
        }
        paginationHtml += '<li><a href="javascript:void(0);" onclick="queryMobilePhoneNumber(' + (currentPage < totalPage ? currentPage + 1 : totalPage) + ',undefined)">下一页</a></li>';
        paginationHtml += '<li><a href="javascript:void(0);" onclick="queryMobilePhoneNumber(' + totalPage + ',undefined)">尾页</a></li>';
        $('#pagination').html(paginationHtml);
    }

    function extractUrlParams() {
        var params = {};
        var urlParams = location.search;
        if (urlParams.indexOf('?') != -1) {
            urlParams = urlParams.substr(1);
            var paramArray = urlParams.split('&');
            for (var i = 0; i < paramArray.length; i++) {
                params[paramArray[i].split('=')[0]] = decodeURI(paramArray[i].split('=')[1]);
            }
        }
        return params;
    }

    function gotoMobilePhoneDetailPage(number) {
        window.location.href = 'mobilephoneDetail.html?number=' + number;
    }
</script>
</body>
</html>