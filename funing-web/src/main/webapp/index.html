<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="author" content="Dannis">

	<title>爱靓号-手机靓号选号，网上选号</title>
	<link rel="stylesheet" type="text/css" href="static/bootstrap/css/yeti.bootstrap.min.css"/>
	<link rel="stylesheet" type="text/css" href="static/css/style.css"/>
	<link rel="stylesheet" type="text/css" href="static/css/custom.css"/>
	<link rel="stylesheet" type="text/css" href="static/css/default.css"/>

	<script src="static/js/jquery-1.11.2.min.js"></script>
	<script src="static/bootstrap/js/bootstrap.min.js"></script>
	<script src="static/js/unslider.js"></script>
</head>
<body>
<div class="top-navbar">
	<div class="container">
		<div class="row">
			<div class="col-md-6 top-navbar-left">
				<span>买靓号，就来爱靓号</span><a>会员登录</a>|<a>免费注册</a>
			</div>
			<div class="col-md-6 top-navbar-right">
				<a>加入收藏</a>|<a>设为首页</a>|<a>网站地图</a>|<a>联系我们</a>
			</div>
		</div>
	</div>
</div>
<div class="container">
	<div class="row banner-row">
		<div class="col-md-6">
			<h1>爱靓号</h1>
			<h5>iLiangHao</h5>
		</div>
		<div class="col-md-6">

		</div>
	</div>
</div>
<!-- 导航 -->
<nav class="navbar navbar-inverse" style="margin-bottom: 6px">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
					data-target="#navbar-collapse-2">
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="index.html">爱靓号</a>
		</div>
		<div class="collapse navbar-collapse" id="navbar-collapse-2">
			<ul class="nav navbar-nav">
				<li><a href="mobilephone.html">手机靓号</a></li>
				<li class="disabled"><a href="#">关于我们</a></li>
			</ul>
			<form class="navbar-form navbar-right" role="search">
				<div class="form-group">
					<input class="form-control" placeholder="请输入您喜欢的数字" type="text">
				</div>
				<button type="submit" class="btn btn-sm btn-warning">抢号</button>
			</form>
		</div>
	</div>
</nav>
<!-- 页面主体 -->
<div class="container">
	<!-- 位置导航 -->
	<div class="row">
		<div class="col-md-12">
			当前位置：<a href="index.html">爱靓号</a>
		</div>
	</div>

	<div class="row">
		<div class="col-lg-9">
			<table class="table" id="mobilePhoneNumberTable">
				<tbody>

				</tbody>
			</table>

			<table class="table table-striped table-hover" id="mobilePhoneNumbersTable">
				<thead>
				<tr>
					<th>手机号码</th>
					<th>运营商</th>
					<th>归属地</th>
					<th>价格</th>
					<th>含话费</th>
					<th>号码规律</th>
					<th>号码寓意</th>
					<th>操作</th>
				</tr>
				</thead>
				<tbody>
				</tbody>
			</table>
		</div>
	</div>
	<!-- 分页 -->
	<div class="row">
		<div class="col-lg-9" style="text-align: center">
			<nav>
				<ul class="pagination" id="pagination">
					<li><a href="javascript:void(0);">首页</a></li>
					<li><a href="javascript:void(0);">上一页</a></li>
					<li><a href="javascript:void(0);">1</a></li>
					<li><a href="javascript:void(0);">2</a></li>
					<li><a href="javascript:void(0);">3</a></li>
					<li><a href="javascript:void(0);">4</a></li>
					<li><a href="javascript:void(0);">5</a></li>
					<li><a href="javascript:void(0);">...</a></li>
					<li><a href="javascript:void(0);">20</a></li>
					<li><a href="javascript:void(0);" id="nextPage">下一页</a></li>
					<li><a href="javascript:void(0);" id="endPage">末页</a></li>
					<li>
						<span>共1页</span><span>共120条</span>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>

<div id="go-top">
	<a id="go_top_btn" class="btn btn-sm btn-default">
		<span class="glyphicon glyphicon-chevron-up"></span>
	</a>
</div>
<!-- 页脚 -->
<footer>
	<div class="container footer1">
		<p>Copyright&copy;哲远贸易有限公司 2015-2015 www.ilianghao.net, All Rights Reserved.</p>
	</div>
</footer>
<script type="text/javascript">
	var PAGE_SIZE = 12;
	var currentPage = 1;
	$(function () {
		$.ajax({
			url: "mobilePhoneNumber/queryByPage.ajax",
			method: "post",
			data: {"page": 1, "rows": PAGE_SIZE},
			success: function (result) {
				var mobilePhoneNumbers = result.rows;
				var mobilePhoneNumberTrs = "";
				for (var i = 0; i < mobilePhoneNumbers.length;) {
					var tr = "<tr>";
					var tds = "";
					for (var j = 0; j < 5; j++) {
						if ((i + j) < mobilePhoneNumbers.length) {
							tds += buildMobilePhoneNumberTd(mobilePhoneNumbers[i + j]);
						} else {
							break;
						}
					}
					tr += tds;
					tr += "</tr>";
					mobilePhoneNumberTrs += tr;
					i += 5;
				}
				$('#mobilePhoneNumberTable').html(mobilePhoneNumberTrs);
			}
		});

		queryMobilePhoneNumber(1,null);

		$(window).scroll(function () {
			var scroll = document.documentElement.scrollTop + document.body.scrollTop;
			if (scroll > 200) {
				$('#go-top').fadeIn(300);
			} else {
				$('#go-top').stop().fadeOut(300);
			}
		});

		$('#go_top_btn').click(function () {
			$("html,body").animate({scrollTop: "0px"}, 200);
		});
	});

	function queryMobilePhoneNumber(pageNo,params) {
		$.ajax({
			url: "mobilePhoneNumber/queryByPage.ajax",
			method: "post",
			data: {"page": pageNo, "rows": PAGE_SIZE,"params":params},
			success: function (result) {
				buildPaginationBar(pageNo,result.total);

				var mobilePhoneNumberTrsHtml = '';
				$.each(result.rows, function (name, value) {
					var mobilePhoneNumberTr = '<tr>';
					mobilePhoneNumberTr += '<td>';
					mobilePhoneNumberTr += '<span style="color: #0079A1;font-size: 14px;font-weight: bold">' + this.number + '</span>';
					mobilePhoneNumberTr += '</td>';
					mobilePhoneNumberTr += '<td>';
					mobilePhoneNumberTr += this.operator;
					mobilePhoneNumberTr += '</td>';
					mobilePhoneNumberTr += '<td>';
					mobilePhoneNumberTr += this.attribution;
					mobilePhoneNumberTr += '</td>';
					mobilePhoneNumberTr += '<td>';
					mobilePhoneNumberTr += '<span style="font-size: 12px;color: #F60;">' + '￥' + this.wholesalePrice + '</span>';
					mobilePhoneNumberTr += '</td>';
					mobilePhoneNumberTr += '<td>';
					mobilePhoneNumberTr += '<span style="font-size: 12px;color: #539F53;">' + '￥' + this.balance + '</span>';
					mobilePhoneNumberTr += '</td>';
					mobilePhoneNumberTr += '<td>';
					mobilePhoneNumberTr += '</td>';
					mobilePhoneNumberTr += '<td>';
					mobilePhoneNumberTr += '</td>';
					mobilePhoneNumberTr += '<td>';
					mobilePhoneNumberTr += '<a href="#" class="btn btn-xs-custom btn-warning">收藏</a> ';
					mobilePhoneNumberTr += '<a href="#" class="btn btn-xs-custom btn-success">购买</a>';
					mobilePhoneNumberTr += '</td>';
					mobilePhoneNumberTr += '</tr>';

					mobilePhoneNumberTrsHtml += mobilePhoneNumberTr;
				});

				$('#mobilePhoneNumbersTable').find('tbody').html(mobilePhoneNumberTrsHtml);
			}
		});
	}

	function buildMobilePhoneNumberTd(mobilePhoneNumber) {
		var mobilePhoneNumberTd = '<td><a>';
		mobilePhoneNumberTd += '<p style="color: #0079A1;font-size: 14px;font-weight: bold">';
		mobilePhoneNumberTd += mobilePhoneNumber.number;
		mobilePhoneNumberTd += '</p>';
		mobilePhoneNumberTd += '<p style="font-size: 12px;color: #539F53;">';
		if (mobilePhoneNumber.balance > 0) {
			mobilePhoneNumberTd += '含话费' + mobilePhoneNumber.balance + '元';
		} else {
			mobilePhoneNumberTd += '不含话费';
		}
		mobilePhoneNumberTd += '</p>';
		mobilePhoneNumberTd += '<p style="font-size: 12px;color: #F60;">';
		if (mobilePhoneNumber.floorPrice > 0) {
			mobilePhoneNumberTd += mobilePhoneNumber.floorPrice + '元';
		} else {
			mobilePhoneNumberTd += '价格面议';
		}
		mobilePhoneNumberTd += '</p>';
		mobilePhoneNumberTd += "</a></td>";

		return mobilePhoneNumberTd;
	}

	function buildPaginationBar(currentPage,total) {
		if (currentPage < 1) {
			return;
		}
		var totalPage = 1;
		if (total > PAGE_SIZE) {
			totalPage = Math.ceil(total / PAGE_SIZE);
		}
		var paginationHtml = '<li><a href="javascript:void(0);" onclick="queryMobilePhoneNumber(1)">首页</a></li>';
		paginationHtml += '<li><a href="javascript:void(0);" onclick="queryMobilePhoneNumber(' + (currentPage - 1) + ')">上一页</a></li>';
		for (var pageIndex = 1; pageIndex <= totalPage; pageIndex++) {
			if (currentPage == pageIndex) {
				paginationHtml += '<li class="active"><a href="javascript:void(0);" onclick="queryMobilePhoneNumber(' + pageIndex + ')">' + pageIndex + '</a></li>';
			} else {
				paginationHtml += '<li><a href="javascript:void(0);" onclick="queryMobilePhoneNumber(' + pageIndex + ')">' + pageIndex + '</a></li>';
			}
		}
		paginationHtml += '<li><a href="javascript:void(0);" onclick="queryMobilePhoneNumber(' + (currentPage + 1) + ')">下一页</a></li>';
		paginationHtml += '<li><a href="javascript:void(0);" onclick="queryMobilePhoneNumber(' + totalPage + ')">尾页</a></li>';
		$('#pagination').html(paginationHtml);
	}
</script>
</body>
</html>